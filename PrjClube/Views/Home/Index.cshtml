@model IEnumerable<Clube.Modelo.Modelo.Doacao>


@{
    ViewBag.Title = "Clube do Bem";
}
<script src="~/Content/Componentes/jquery/jquery.min.js"></script>
<script src="~/Content/Componentes/moment/min/moment.min.js"></script>
<script src="~/Content/Componentes/moment/min/moment-with-locales.min.js"></script>
<script src="~/Content/Componentes/bootstrap-daterangepicker/daterangepicker.js"></script>

<div class="content-wrapper">
    <section class="content">
        <form method="post">
            <section class="box box-success">
                <section class="box-header with-border">
                    <h3 class="box-title "> Filtros de Busca </h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-sm btn-no-bg" onclick="AbrirModal('#modal','_mdlNovaDoacao')">
                            <span>
                                <i class="fa fa-dollar" aria-hidden="true"></i> Nova Doação
                            </span>
                        </button>
                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </section>
                <section class="box-body">
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label class="titulo-input">Nome</label>
                            <input type="text" class="form-control form-control-sm" maxlength="50" name="nmParticipante" placeholder="Informe o nome de um amigo" autocomplete="off" />
                        </div>
                        <div class="form-group col-lg-4">
                            <label class="titulo-input">Modo de Pagamento</label>
                            <select id="ddmodoPagamento" name="modoPagamento" class="form-control form-control-sm "></select>
                        </div>
                        <div class="form-group col-lg-4">
                            <label class="titulo-input">Dt. Doação</label>
                            <input id="dtDoacao" name="periodoDtDoacao" type="text" class="form-control form-control-sm daterange" placeholder="dd/mm/aaaa" autocomplete=off />
                        </div>
                    </div>
                </section>
                <section class="box-footer">
                    <div class="box-tools pull-right">
                        <button type="submit" class="btn btn-sm btn-primary">Buscar</button>
                    </div>
                </section>
            </section>
        </form>

        <section class="box box-success">
            <section class="box-header with-border">
                <h3 class="box-title "> Planilha Financeira<small class="text-sm"> Visão Geral</small></h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </section>
            <section class="box-body">
                <div class="card-body">
                    <table id="datatable" class="table table-striped table-bordered dataTable " role="grid" aria-describedby="datatable_info">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Valor</th>
                                <th>Forma</th>
                                <th>Data</th>
                                <th>Parcela</th>
                        </thead>
                        <tbody>
                            @if (Model != null)
                            {
                                foreach (var item in Model)
                                {
                                    <tr class="even">
                                        <td>
                                            @Html.DisplayFor(modelItem => item.nmParticipante)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Valor)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.dsTipoPagamento)
                                        </td>
                                        <td>
                                            @item.dtDoacao.ToShortDateString()
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.nrParcelas)
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </section>
            <section class="box-footer"></section>
        </section>
    </section>
</div>

<div class="modal fade" id="modal">

</div>
<script>
    moment.locale('pt-br');
    $('.daterange').daterangepicker({
        autoUpdateInput: false
    }, function (dataInicio, dataFim) {
        $('.daterange').val(dataInicio.format("DD/MM/YYYY") + ' - ' + dataFim.format('DD/MM/YYYY'));
    });
</script>